{% extends 'wafer/base.html' %}
{% load static %}

{% block page_title %}Support PyCon Africa{% endblock %}

{% block content %}
<section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 lg:pb-20 space-y-12">

    <!-- Header -->
    <div class="text-center space-y-4">
        <h2 class="text-pycon-blue">Make a donation - Help us open more doors to the Python community</h2>
        
        <!-- Pixel Art Display -->
        <div class="flex justify-center mb-8">
            <div class="flex items-center gap-6">
                <div id="pixel-art-canvas" class="inline-block">
                    <!-- Pixel art will be generated here -->
                </div>
                <div class="text-left">
                    <div class="text-3xl font-semibold text-gray-700">Donations Progress</div>
                    <div class="text-2xl font-bold text-pycon-green" id="current-amount"></div>
                    <div class="text-2xl text-gray-600">of <span id="target-amount"></span> goal</div>
                    <div class="text-xl text-gray-500 mt-1">
                        <span id="percentage-funded"></span>% funded
                    </div>
                </div>
            </div>
        </div>
        
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            PyCon Africa is run entirely by volunteers who believe in making technology more accessible across the continent. We're working to connect people, share knowledge, and create opportunities - but we need your help to expand our reach.
        </p>
        <div class="pt-4">
            <a href="https://www.quicket.co.za/events/321686-pycon-africa-2025/#/tickets" target="_blank" class="btn text-lg px-8 py-4">Make a donation</a>
        </div>
    </div>

    <!-- What Support Enables -->
    <div class="space-y-8">
        <h2 class="text-center">What your support enables</h2>
        <p class="text-center">Different amounts help in different ways:</p>
        
        <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center">
                <div>
                    <div class="font-bold text-pycon-green">$50</div>
                    <div class="text-gray-600">Covers our per-head cost for one Beginner's Day participant</div>
                </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center">
                <div>
                    <div class="font-bold text-pycon-blue">$100</div>
                    <div class="text-gray-600">Covers the cost of one full conference ticket</div>
                </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center">
                <div>
                    <div class="font-bold text-pycon-red">$200</div>
                    <div class="text-gray-600">Helps us support a regional traveller</div>
                </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center">
                <div>
                    <div class="font-bold text-pycon-yellow">$500</div>
                    <div class="text-gray-600">Helps us support someone from further afield</div>
                </div>
            </div>
        </div>
        
        <div class="bg-white border-2 border-pycon-green rounded-lg p-6 text-center">
            <div class="font-bold text-pycon-green text-xl mb-2">$1,000</div>
            <div class="text-gray-700">Lets us expand our capacity significantly</div>
        </div>

        <p class="text-center font-semibold">Any amount helps. We're grateful for whatever you can contribute.</p>
    </div>

    

    <!-- What We're Building -->
    <div class="space-y-6">
        <h2>What we're building</h2>
        <p>
            We're more than just a conference. PyCon Africa exists to open doors, connect people, and plant seeds that grow into careers, projects, and stronger communities. As a completely volunteer-run, non-profit event, all the money we raise goes directly toward making Python more accessible to people who might not otherwise have the chance to get involved.
        </p>
        <div class="bg-pycon-blue/10 border-l-4 border-pycon-blue p-4 rounded">
            <p class="font-semibold">The more support we receive, the more people we can welcome into our community.</p>
        </div>
    </div>

    <!-- Why We Need Help -->
    <div class="bg-gray-50 rounded-lg p-8 space-y-6">
        <h2>Why we need your help</h2>
        <p>
            Running an inclusive, accessible conference costs money. While our sponsors cover the basics, community donations let us expand our impact in meaningful ways.
        </p>
        <p class="font-semibold">Here's what we're working toward:</p>

        <div class="grid md:grid-cols-2 gap-6 mt-6">
            <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-pycon-green mb-4">Expanding Beginner's Day</h3>
                <p class="mb-4">
                    Right now, we can welcome <strong>50 complete beginners</strong> to our <strong>FREE</strong> hands-on workshops. With more support, we'd love to expand this to <strong>150 people</strong>.
                </p>
                <p class="mb-4">
                    Each person who attends might discover a new career path, develop skills that change their opportunities, or simply find a community where they belong.
                </p>
                <a href="{% url 'page_beginners_day' %}" class="text-pycon-green hover:underline">Learn more about Beginner's Day â†’</a>
            </div>

            <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-pycon-red mb-4">Supporting community members</h3>
                <p class="mb-4">We focus on helping people who wouldn't otherwise be able to attend:</p>
                <ul class="space-y-1">
                    <li>African community members building local tech scenes</li>
                    <li>Students exploring what's possible</li>
                    <li>Teachers bringing programming back to classrooms</li>
                    <li>Young professionals growing their skills</li>
                </ul>
                <p class="mt-4">This support includes reduced-price tickets, travel assistance, and sometimes accommodation help.</p>
            </div>
        </div>
    </div>

    


    <!-- How to Contribute -->
    <div class="text-center bg-gray-900 rounded-lg p-8 text-white space-y-6">
        <h2 class="text-white">How to contribute</h2>
        <p class="text-gray-300">We've set up donation tickets that you can purchase at different levels, depending on what works for you. Or you can enter a custom amount.</p>
        
        <a href="https://www.quicket.co.za/events/321686-pycon-africa-2025/#/tickets" target="_blank" class="btn text-lg px-8 py-4">Make a Donation</a>
        
        <p class="text-gray-300 pt-5">Whether you can contribute a small amount or something more substantial, it all adds up to create opportunities for people in our community.</p>
    </div>

    <!-- Why This Matters -->
    <div class="space-y-6">
        <h2>Why this matters</h2>
        <p>
            Technology is growing rapidly across Africa, but learning opportunities aren't equally available everywhere. When you support PyCon Africa, you're helping remove barriers that prevent talented people from getting involved in tech.
        </p>
        <p>
            You're also helping build bridges between developers who might otherwise work in isolation, and creating the kind of catalyst experiences that turn curiosity into careers and careers into community leadership.
        </p>
        <div class="bg-pycon-red/10 border-l-4 border-pycon-red p-4 rounded">
            <p class="font-semibold">The people we support go on to support others in their own communities. The impact multiplies.</p>
        </div>
    </div>

    <!-- How We Work -->
    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-8 space-y-4">
        <h2 class="text-center">How we work</h2>
        <p class="text-center">
            Since we're completely volunteer-run, your donation goes directly to participants and programming. Our organizers contribute their time because they believe in what we're building, just like you might.
        </p>
        <p class="text-center font-semibold">
            We don't have overhead costs or salaries eating into contributions. When you donate, you're funding opportunities, experiences, and futures.
        </p>
    </div>

    <!-- Get Involved -->
    <div class="text-center space-y-6">
        <h2>Your donation will make a difference</h2>
        
        
        <a href="https://www.quicket.co.za/events/321686-pycon-africa-2025/#/tickets" target="_blank" class="btn text-lg px-8 py-4">Contribute to Our Community</a>
    </div>

    <!-- FAQ -->
    <div class="space-y-6">
        <h2>Questions?</h2>
        
        <div class="space-y-4">
            <div class="border-b border-gray-200 pb-4">
                <p class="font-semibold">How do I donate?</p>
                <p>Just purchase a donation ticket using the link above</p>
            </div>
            <div class="border-b border-gray-200 pb-4">
                <p class="font-semibold">Is this tax deductible?</p>
                <p>We are a non profit so we can provide an invoice if needed. Please email us and we'll sort you out! <a href="mailto:team@za.pycon.org" class="text-pycon-blue hover:underline">team@za.pycon.org</a></p>
            </div>
            <div class="border-b border-gray-200 pb-4">
                <p class="font-semibold">Can companies donate too?</p>
                <p>Absolutely - contributions of any size are welcome. We also have exciting sponsorship packages that add value to our sponsors. <a href="https://africa.pycon.org/sponsors/packages/" target="_blank" class="text-pycon-blue hover:underline">Learn more about sponsorship packages</a></p>
            </div>
            <div class="border-b border-gray-200 pb-4">
                <p class="font-semibold">How will I know it made a difference?</p>
                <p>We will publish a report that details the event and its impact</p>
            </div>
        </div>

        <div class="bg-gray-50 rounded-lg p-6">
            <p class="font-semibold">For larger partnerships or sponsorship opportunities:</p>
            <p>Email us at <a href="mailto:sponsorship@pycon.africa" class="text-pycon-blue hover:underline">sponsorship@pycon.africa</a> or <a href="https://africa.pycon.org/sponsors/packages/" target="_blank" class="text-pycon-blue hover:underline">view our sponsorship packages</a></p>
        </div>
    </div>

    <!-- Closing -->
    <div class="text-center bg-gray-100 rounded-lg p-8">
        <p class="text-gray-700 italic">
            PyCon Africa exists because people believe technology should be accessible to everyone. Thanks for considering being part of that.
        </p>
    </div>

</section>





<script>
    // Calculate funding progress
    const targetAmount = 10000; // Example target amount in dollars
    const currentAmount = 5297+500; // Example current amount - this should come from your backend
    const portionFunded = currentAmount / targetAmount;

    const pattern = [
                    [0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0],
                    [0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],
                    [0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],
                    [0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],
                    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0],
                    [0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0],
                    [0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
                    [0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
                    [0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],
                    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],
                    [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],
                    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],
                    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],
                    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,0],
                    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,0,0],
                    [0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0],
                    [0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],
                 
                    
                ];

        const width = pattern[0].length
        const height = pattern.length
        class PixelArtDisplay {
            constructor(containerId, options = {width, height}) {
                this.container = document.getElementById(containerId);
                this.width = options.width || 16;
                this.height = options.height || 12;
                this.pixelSize = options.pixelSize || 20;
                this.colors = options.colors || ['#3B82F6', '#10B981', '#EF4444', '#F59E0B', '#8B5CF6'];
                this.pixels = [];
                this.init();
            }

            init() {
                this.createGrid();
                this.drawPattern();
            }

            createGrid() {
                this.container.innerHTML = '';
                this.container.style.display = 'grid';
                this.container.style.gridTemplateColumns = `repeat(${this.width}, ${this.pixelSize}px)`;
                this.container.style.gridTemplateRows = `repeat(${this.height}, ${this.pixelSize}px)`;
                this.container.style.gap = '1px';

                for (let i = 0; i < this.width * this.height; i++) {
                    const pixel = document.createElement('div');
                    pixel.style.width = `${this.pixelSize}px`;
                    pixel.style.height = `${this.pixelSize}px`;
                    pixel.style.backgroundColor = 'transparent';
                    pixel.style.cursor = 'pointer';

                    this.container.appendChild(pixel);
                    this.pixels.push(pixel);
                }
            }

            drawPattern() {
                // Create a simple Python-themed pattern
                

                pattern.forEach((row, y) => {
                    row.forEach((colorIndex, x) => {
                        if (y < this.height && x < this.width) {
                            const pixelIndex = y * this.width + x;
                            const color = colorIndex === 0 ? 'transparent' : this.colors[colorIndex - 1];
                            this.pixels[pixelIndex].style.backgroundColor = color;
                        }
                    });
                });
            }

            setPixel(x, y, colorIndex) {
                if (x >= 0 && x < this.width && y >= 0 && y < this.height) {
                    const pixelIndex = y * this.width + x;
                    const color = colorIndex === 0 ? 'transparent' : this.colors[colorIndex - 1];
                    this.pixels[pixelIndex].style.backgroundColor = color;
                }
            }

            clear() {
                this.pixels.forEach(pixel => {
                    pixel.style.backgroundColor = 'transparent';
                });
            }

            randomize() {
                this.pixels.forEach(pixel => {
                    const randomColor = Math.random() > 0.7 ? 
                        this.colors[Math.floor(Math.random() * this.colors.length)] : 
                        'transparent';
                    pixel.style.backgroundColor = randomColor;
                });
            }

            updateFundingProgress(percentage) {
                // First, reset to original pattern
                this.drawPattern();
                
                // Find all pixels that are currently set to color index 1
                const targetPixels = [];
                pattern.forEach((row, y) => {
                    row.forEach((colorIndex, x) => {
                        if (colorIndex === 1 && y < this.height && x < this.width) {
                            targetPixels.push({x, y, pixelIndex: y * this.width + x});
                        }
                    });
                });
                
                // Sort pixels from bottom to top (highest y first)
                targetPixels.sort((a, b) => b.y - a.y);
                
                // Calculate how many pixels to change based on percentage
                const pixelsToChange = Math.floor((percentage / 100) * targetPixels.length);
                
                // Change the bottom percentage of 1s to 2s
                for (let i = 0; i < pixelsToChange && i < targetPixels.length; i++) {
                    const pixel = targetPixels[i];
                    this.pixels[pixel.pixelIndex].style.backgroundColor = this.colors[1]; // Color index 2
                }
            }
        }

        // Initialize the pixel art display when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            const pixelArt = new PixelArtDisplay('pixel-art-canvas', {
                width,
                height,
                pixelSize: 20,
                colors: ['#93C5FD', '#059669', '#EF4444', '#F59E0B', '#8B5CF6']  // Light blue for 1s, emerald green for 2s
            });

            // Set initial funding progress using actual funding percentage
            pixelArt.updateFundingProgress(parseInt(portionFunded * 100));

            // Update the display values
            document.getElementById('current-amount').textContent = '$' + currentAmount.toLocaleString();
            document.getElementById('target-amount').textContent = '$' + targetAmount.toLocaleString();
            document.getElementById('percentage-funded').textContent = Math.round(portionFunded * 100);

            console.log(portionFunded)
            // Add some interactivity - click to cycle through funding percentages
            let currentPercentage = 50;
            document.getElementById('pixel-art-canvas').addEventListener('click', function() {
                currentPercentage = (currentPercentage + 25) % 125; // Cycle through 50%, 75%, 100%, 0%, 25%
                pixelArt.updateFundingProgress(currentPercentage);
            });
        });
    </script>
{% endblock %}